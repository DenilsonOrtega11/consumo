<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calcular Distancia con Google Maps API</title>
   
</head>
<body onload="initMap()">
    <h1>Calcular Distancia entre Dos Ciudades</h1>
    
    <div>
        <label for="origen">Ciudad de Origen:</label>
        <input type="text" id="origen" placeholder="Ejemplo: Ciudad de México" required>
        
        <label for="destino">Ciudad de Destino:</label>
        <input type="text" id="destino" placeholder="Ejemplo: Monterrey" required>

        <button onclick="calcularRuta()">Calcular Distancia</button>
    </div>

    <div id="map"></div>
    <div id="output" style="margin-top: 20px;"></div>

     <script>
        let map;
        let directionsService;
        let directionsRenderer;

        function initMap() {
            // Crear un mapa centrado en un punto
            // map = new google.maps.Map(document.getElementById('map'), {
            //     zoom: 7,
            //     center: {lat: 19.4326, lng: -99.1332} // Ciudad de México
            // });

            // Inicializar el DirectionsService y DirectionsRenderer
            directionsService = new google.maps.DirectionsService();
            directionsRenderer = new google.maps.DirectionsRenderer();
            // directionsRenderer.setMap(map);
        }

        function calcularRuta() {
            const origen = document.getElementById('origen').value;
            const destino = document.getElementById('destino').value;

            // Calcular la ruta
            directionsService.route({
                origin: origen,
                destination: destino,
                travelMode: 'DRIVING'
            }, function(response, status) {
                if (status === 'OK') {
                    directionsRenderer.setDirections(response);
                    const distance = response.routes[0].legs[0].distance.text; // Obtener la distancia
                    const duration = response.routes[0].legs[0].duration.text; // Obtener la duración
                    document.getElementById('output').innerHTML = 'Distancia: ' + distance + '<br>Duración: ' + duration;
                } else {
                    window.alert('No se pudo calcular la ruta debido a: ' + status);
                }
            });
        }
    </script>

    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCtvAfOFRUnD0HH3anYsRQP5xpurMfFZY0&libraries=places"></script>

</body>
</html>